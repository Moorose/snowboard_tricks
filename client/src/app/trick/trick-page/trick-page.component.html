<div *ngIf="trick" class="trick">
  <div class="trick__name">
    <p>{{ trick.name }}</p>
  </div>
  <div *ngIf="url" style="width: 50vw">
    <mat-video src="{{url.link}}"></mat-video>
  </div>
      <div *ngIf="trick && trick.UserTrick && trick.UserTrick.is_done">
        <a [routerLink]="['/tricks','user','list',trick.id,'addVideo']">Add your video with trick</a>
      </div>
  <div class="trick__complexity">
    <p>Complexity:{{ trick.complexity }}</p>
  </div>
  <div class="trick__description">
    <p>{{ trick.description }}</p>
  </div>
</div>

<div *ngIf="users">
  <span>This user can do it!</span>
  <ul>
    <li *ngFor="let user of users">
      <div *ngIf="user.userTrick">
      <a [routerLink]="['/user', user.id]">
        <span>{{ user.nickname }}</span>
        <a *ngIf="user.userTrick.videoKey" [routerLink]="['/tricks','user',user.id,'list',trick.id]">
          <span> watch video </span>
        </a>
      </a>
      </div>
    </li>
  </ul>
</div>

<div>
  <ul *ngIf="trick">
    <li>
      <div *ngIf="!trick.UserTrick">
        <button (click)="addToFavorite()" class="trick__btnAdd">Add to favorite</button>
      </div>
      <div *ngIf="trick.UserTrick">
        <button (click)="removeFromFavorite()" class="trick__btnRemove">Remove from favorite</button>
      </div>
    </li>
    <li *ngIf="trick.UserTrick">
      <div *ngIf="!trick.UserTrick.is_done">
        <button (click)="markAsDone(true)" class="trick__btnAdd">Mark as done</button>
      </div>
      <div *ngIf="trick.UserTrick.is_done">
        <button (click)="markAsDone(false)" class="trick__btnRemove">Unmark</button>
      </div>
    </li>

    <li *ngIf="trick.UserTrick && !trick.UserTrick.is_done">
      <div *ngIf="!thread">
        <button (click)="createThread()" class="trick__btnAdd">Create thread</button>
      </div>
      <div *ngIf="thread">
        <a [routerLink]="['/thread','list',thread.id]">Go to thread</a>
      </div>
    </li>
    <li>
      <button (click)="goBack()" class="trick__btnBack">go back</button>
    </li>
  </ul>
</div>
